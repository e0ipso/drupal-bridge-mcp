{"version":3,"names":["cov_2ot7cnbl8s","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","isJsonRpcSuccessResponse","response","exports","isJsonRpcErrorResponse","JsonRpcErrorCode","PARSE_ERROR","INVALID_REQUEST","METHOD_NOT_FOUND","INVALID_PARAMS","INTERNAL_ERROR","SERVER_ERROR","McpErrorType"],"sources":["/workspace/src/types/core-types.ts"],"sourcesContent":["/**\n * Core protocol type definitions (JSON-RPC + MCP)\n * Consolidated for MVP simplification\n */\n\n// =============================================================================\n// JSON-RPC 2.0 Types\n// =============================================================================\n\n/**\n * JSON-RPC 2.0 request structure\n */\nexport interface JsonRpcRequest<TParams = unknown> {\n  readonly jsonrpc: '2.0';\n  readonly method: string;\n  readonly params?: TParams;\n  readonly id?: string | number | null;\n}\n\n/**\n * JSON-RPC 2.0 response structure for successful calls\n */\nexport interface JsonRpcSuccessResponse<TResult = unknown> {\n  readonly jsonrpc: '2.0';\n  readonly result: TResult;\n  readonly id: string | number | null;\n}\n\n/**\n * JSON-RPC 2.0 error object\n */\nexport interface JsonRpcError {\n  readonly code: number;\n  readonly message: string;\n  readonly data?: unknown;\n}\n\n/**\n * JSON-RPC 2.0 response structure for failed calls\n */\nexport interface JsonRpcErrorResponse {\n  readonly jsonrpc: '2.0';\n  readonly error: JsonRpcError;\n  readonly id: string | number | null;\n}\n\n/**\n * Union type for JSON-RPC 2.0 responses\n */\nexport type JsonRpcResponse<TResult = unknown> =\n  | JsonRpcSuccessResponse<TResult>\n  | JsonRpcErrorResponse;\n\n/**\n * Type guard to check if response is successful\n */\nexport const isJsonRpcSuccessResponse = <TResult = unknown>(\n  response: JsonRpcResponse<TResult>\n): response is JsonRpcSuccessResponse<TResult> => {\n  return 'result' in response;\n};\n\n/**\n * Type guard to check if response is an error\n */\nexport const isJsonRpcErrorResponse = (\n  response: JsonRpcResponse\n): response is JsonRpcErrorResponse => {\n  return 'error' in response;\n};\n\n/**\n * Standard JSON-RPC 2.0 error codes\n */\nexport const JsonRpcErrorCode = {\n  PARSE_ERROR: -32700,\n  INVALID_REQUEST: -32600,\n  METHOD_NOT_FOUND: -32601,\n  INVALID_PARAMS: -32602,\n  INTERNAL_ERROR: -32603,\n  SERVER_ERROR: -32000, // to -32099 reserved for server errors\n} as const;\n\nexport type JsonRpcErrorCode =\n  (typeof JsonRpcErrorCode)[keyof typeof JsonRpcErrorCode];\n\n// =============================================================================\n// MCP Protocol Types\n// =============================================================================\n\n/**\n * MCP resource definition\n */\nexport interface McpResource {\n  readonly uri: string;\n  readonly name: string;\n  readonly description?: string;\n  readonly mimeType?: string;\n}\n\n/**\n * MCP tool definition\n */\nexport interface McpTool {\n  readonly name: string;\n  readonly description: string;\n  readonly inputSchema: Record<string, unknown>;\n}\n\n/**\n * MCP prompt definition\n */\nexport interface McpPrompt {\n  readonly name: string;\n  readonly description: string;\n  readonly arguments?: Array<{\n    readonly name: string;\n    readonly description: string;\n    readonly required?: boolean;\n  }>;\n}\n\n// Simplified MCP types for MVP - removed unused complex nested structures\n\n/**\n * MCP server capabilities (simplified)\n */\nexport interface McpServerCapabilities {\n  readonly resources?: Record<string, unknown>;\n  readonly tools?: Record<string, unknown>;\n  readonly prompts?: Record<string, unknown>;\n  readonly [key: string]: unknown;\n}\n\n/**\n * MCP server information (simplified)\n */\nexport interface McpServerInfo {\n  readonly name: string;\n  readonly version: string;\n  readonly protocolVersion: string;\n  readonly capabilities: McpServerCapabilities;\n}\n\n/**\n * MCP error types\n */\nexport const McpErrorType = {\n  INVALID_REQUEST: 'InvalidRequest',\n  METHOD_NOT_FOUND: 'MethodNotFound',\n  INVALID_PARAMS: 'InvalidParams',\n  INTERNAL_ERROR: 'InternalError',\n} as const;\n\nexport type McpErrorType = (typeof McpErrorType)[keyof typeof McpErrorType];\n\n/**\n * MCP error structure\n */\nexport interface McpError {\n  readonly type: McpErrorType;\n  readonly message: string;\n  readonly data?: unknown;\n}\n\n/**\n * New search tutorials tool input parameters\n */\nexport interface SearchContentParams {\n  readonly keywords: string;\n  readonly types?: string[];\n  readonly drupal_version?: string[];\n  readonly category?: string[];\n  readonly sort?: string;\n  readonly page?: { limit: number; offset: number };\n}\n\n/**\n * Processed new search parameters after validation\n */\nexport interface ProcessedSearchContentParams {\n  readonly keywords: string;\n  readonly types: string[];\n  readonly drupal_version?: string[];\n  readonly category?: string[];\n  readonly sort: string;\n  readonly page: { limit: number; offset: number };\n}\n\n/**\n * Tutorial search result item\n */\nexport interface TutorialSearchResult {\n  readonly id: string;\n  readonly title: string;\n  readonly url: string;\n  readonly description?: string;\n  readonly drupal_version?: string[];\n  readonly tags?: string[];\n  readonly difficulty?: 'beginner' | 'intermediate' | 'advanced';\n  readonly created: string;\n  readonly updated?: string;\n}\n\n/**\n * New search content response\n */\nexport interface SearchContentResponse {\n  readonly results: TutorialSearchResult[];\n  readonly total: number;\n  readonly facets?: Record<string, unknown>;\n  readonly query: ProcessedSearchContentParams;\n}\n"],"mappings":"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","ignoreList":[]}