# Production Environment Variables Template for Railway Deployment
# Copy this file and fill in the actual values for your production environment

# Application Configuration
NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# MCP Server Configuration
MCP_TRANSPORT=sse
MCP_SERVER_NAME=drupalize-mcp-server

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Request Configuration
REQUEST_TIMEOUT=30000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=900000

# Database Configuration (PostgreSQL)
# These will be automatically provided by Railway PostgreSQL addon
DATABASE_URL=${RAILWAY_DATABASE_URL}
DATABASE_HOST=${PGHOST}
DATABASE_PORT=${PGPORT}
DATABASE_NAME=${PGDATABASE}
DATABASE_USER=${PGUSER}
DATABASE_PASSWORD=${PGPASSWORD}

# Database Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_CONNECTION_TIMEOUT=10000
DATABASE_IDLE_TIMEOUT=30000
DATABASE_SSL=true
DATABASE_SSL_MODE=require

# OAuth Configuration (Drupal Integration)
# These need to be set manually in Railway dashboard
# CRITICAL: These must be set as Railway environment variables, not in this file
OAUTH_CLIENT_ID=${OAUTH_CLIENT_ID}
OAUTH_CLIENT_SECRET=${OAUTH_CLIENT_SECRET}
OAUTH_REDIRECT_URI=https://your-production-app.railway.app/oauth/callback
OAUTH_AUTHORIZATION_URL=https://drupalize.me/oauth/authorize
OAUTH_TOKEN_URL=https://drupalize.me/oauth/token
OAUTH_SCOPES="content:read user:read"
OAUTH_TOKEN_REFRESH_BUFFER=300

# Drupal API Configuration
DRUPAL_BASE_URL=https://your-drupal-site.com
DRUPAL_API_BASE_PATH=/api
DRUPAL_JSONRPC_ENDPOINT=/jsonrpc

# Security Configuration
# CRITICAL: Set these as Railway environment variables
HTTPS_ONLY=true

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGINS=https://drupalize.me,https://claude.ai

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
XSS_PROTECTION_ENABLED=true
NO_SNIFF_ENABLED=true
REFERRER_POLICY=strict-origin-when-cross-origin

# Session Security (CRITICAL: Set as Railway secret)
SESSION_SECRET=${SESSION_SECRET}

# Rate Limiting (Production Values)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=900000

# Monitoring and Observability
SENTRY_DSN=your_sentry_dsn_if_using
NEW_RELIC_LICENSE_KEY=your_new_relic_key_if_using

# Feature Flags
ENABLE_CACHING=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_METRICS=true