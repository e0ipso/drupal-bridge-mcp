ca84e4c3f4c0001e4cdac33ddbdd7232
"use strict";
/**
 * Configuration management for the MCP server
 *
 * Centralizes all configuration options with type safety and validation
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.config = void 0;
/**
 * Load and validate configuration from environment variables
 */
function loadConfig() {
    const env = process.env.NODE_ENV || 'development';
    return {
        environment: env,
        port: parseInt(process.env.PORT || '3000', 10),
        logging: {
            level: process.env.LOG_LEVEL || 'info',
            format: env === 'production' ? 'json' : 'pretty',
        },
        drupal: {
            baseUrl: process.env.DRUPAL_BASE_URL || 'https://drupalize.me',
            jsonRpcEndpoint: process.env.DRUPAL_JSONRPC_ENDPOINT || '/jsonrpc',
            timeout: parseInt(process.env.DRUPAL_TIMEOUT || '10000', 10),
        },
        oauth: {
            clientId: process.env.OAUTH_CLIENT_ID || '',
            clientSecret: process.env.OAUTH_CLIENT_SECRET || '',
            redirectUri: process.env.OAUTH_REDIRECT_URI || '',
            authUrl: process.env.OAUTH_AUTH_URL || '',
            tokenUrl: process.env.OAUTH_TOKEN_URL || '',
        },
        database: {
            host: process.env.DB_HOST || 'localhost',
            port: parseInt(process.env.DB_PORT || '5432', 10),
            name: process.env.DB_NAME || 'mcp_server',
            user: process.env.DB_USER || 'postgres',
            password: process.env.DB_PASSWORD || '',
            ssl: process.env.DB_SSL === 'true',
        },
    };
}
/**
 * Global configuration instance
 */
exports.config = loadConfig();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL3dvcmtzcGFjZS9zcmMvY29uZmlnL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7QUFvQ0g7O0dBRUc7QUFDSCxTQUFTLFVBQVU7SUFDakIsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksYUFBYSxDQUFDO0lBRWxELE9BQU87UUFDTCxXQUFXLEVBQUUsR0FBNEM7UUFDekQsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxNQUFNLEVBQUUsRUFBRSxDQUFDO1FBQzlDLE9BQU8sRUFBRTtZQUNQLEtBQUssRUFBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQXNCLElBQUksTUFBTTtZQUNwRCxNQUFNLEVBQUUsR0FBRyxLQUFLLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRO1NBQ2pEO1FBQ0QsTUFBTSxFQUFFO1lBQ04sT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxJQUFJLHNCQUFzQjtZQUM5RCxlQUFlLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsSUFBSSxVQUFVO1lBQ2xFLE9BQU8sRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLElBQUksT0FBTyxFQUFFLEVBQUUsQ0FBQztTQUM3RDtRQUNELEtBQUssRUFBRTtZQUNMLFFBQVEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsSUFBSSxFQUFFO1lBQzNDLFlBQVksRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixJQUFJLEVBQUU7WUFDbkQsV0FBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLElBQUksRUFBRTtZQUNqRCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLElBQUksRUFBRTtZQUN6QyxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLElBQUksRUFBRTtTQUM1QztRQUNELFFBQVEsRUFBRTtZQUNSLElBQUksRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxXQUFXO1lBQ3hDLElBQUksRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUNqRCxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksWUFBWTtZQUN6QyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksVUFBVTtZQUN2QyxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksRUFBRTtZQUN2QyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssTUFBTTtTQUNuQztLQUNGLENBQUM7QUFDSixDQUFDO0FBRUQ7O0dBRUc7QUFDVSxRQUFBLE1BQU0sR0FBaUIsVUFBVSxFQUFFLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL3dvcmtzcGFjZS9zcmMvY29uZmlnL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29uZmlndXJhdGlvbiBtYW5hZ2VtZW50IGZvciB0aGUgTUNQIHNlcnZlclxuICpcbiAqIENlbnRyYWxpemVzIGFsbCBjb25maWd1cmF0aW9uIG9wdGlvbnMgd2l0aCB0eXBlIHNhZmV0eSBhbmQgdmFsaWRhdGlvblxuICovXG5cbmltcG9ydCB0eXBlIHsgTG9nTGV2ZWwgfSBmcm9tICdAL3R5cGVzL2xvZ2dlci5qcyc7XG5cbi8qKlxuICogU2VydmVyIGNvbmZpZ3VyYXRpb24gaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmVyQ29uZmlnIHtcbiAgcmVhZG9ubHkgZW52aXJvbm1lbnQ6ICdkZXZlbG9wbWVudCcgfCAncHJvZHVjdGlvbicgfCAndGVzdCc7XG4gIHJlYWRvbmx5IHBvcnQ6IG51bWJlcjtcbiAgcmVhZG9ubHkgbG9nZ2luZzoge1xuICAgIHJlYWRvbmx5IGxldmVsOiBMb2dMZXZlbDtcbiAgICByZWFkb25seSBmb3JtYXQ6ICdqc29uJyB8ICdwcmV0dHknO1xuICB9O1xuICByZWFkb25seSBkcnVwYWw6IHtcbiAgICByZWFkb25seSBiYXNlVXJsOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkganNvblJwY0VuZHBvaW50OiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdGltZW91dDogbnVtYmVyO1xuICB9O1xuICByZWFkb25seSBvYXV0aDoge1xuICAgIHJlYWRvbmx5IGNsaWVudElkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgY2xpZW50U2VjcmV0OiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgcmVkaXJlY3RVcmk6IHN0cmluZztcbiAgICByZWFkb25seSBhdXRoVXJsOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdG9rZW5Vcmw6IHN0cmluZztcbiAgfTtcbiAgcmVhZG9ubHkgZGF0YWJhc2U6IHtcbiAgICByZWFkb25seSBob3N0OiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgcG9ydDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSB1c2VyOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgcGFzc3dvcmQ6IHN0cmluZztcbiAgICByZWFkb25seSBzc2w6IGJvb2xlYW47XG4gIH07XG59XG5cbi8qKlxuICogTG9hZCBhbmQgdmFsaWRhdGUgY29uZmlndXJhdGlvbiBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICovXG5mdW5jdGlvbiBsb2FkQ29uZmlnKCk6IFNlcnZlckNvbmZpZyB7XG4gIGNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XG5cbiAgcmV0dXJuIHtcbiAgICBlbnZpcm9ubWVudDogZW52IGFzICdkZXZlbG9wbWVudCcgfCAncHJvZHVjdGlvbicgfCAndGVzdCcsXG4gICAgcG9ydDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuUE9SVCB8fCAnMzAwMCcsIDEwKSxcbiAgICBsb2dnaW5nOiB7XG4gICAgICBsZXZlbDogKHByb2Nlc3MuZW52LkxPR19MRVZFTCBhcyBMb2dMZXZlbCkgfHwgJ2luZm8nLFxuICAgICAgZm9ybWF0OiBlbnYgPT09ICdwcm9kdWN0aW9uJyA/ICdqc29uJyA6ICdwcmV0dHknLFxuICAgIH0sXG4gICAgZHJ1cGFsOiB7XG4gICAgICBiYXNlVXJsOiBwcm9jZXNzLmVudi5EUlVQQUxfQkFTRV9VUkwgfHwgJ2h0dHBzOi8vZHJ1cGFsaXplLm1lJyxcbiAgICAgIGpzb25ScGNFbmRwb2ludDogcHJvY2Vzcy5lbnYuRFJVUEFMX0pTT05SUENfRU5EUE9JTlQgfHwgJy9qc29ucnBjJyxcbiAgICAgIHRpbWVvdXQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRSVVBBTF9USU1FT1VUIHx8ICcxMDAwMCcsIDEwKSxcbiAgICB9LFxuICAgIG9hdXRoOiB7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuT0FVVEhfQ0xJRU5UX0lEIHx8ICcnLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5PQVVUSF9DTElFTlRfU0VDUkVUIHx8ICcnLFxuICAgICAgcmVkaXJlY3RVcmk6IHByb2Nlc3MuZW52Lk9BVVRIX1JFRElSRUNUX1VSSSB8fCAnJyxcbiAgICAgIGF1dGhVcmw6IHByb2Nlc3MuZW52Lk9BVVRIX0FVVEhfVVJMIHx8ICcnLFxuICAgICAgdG9rZW5Vcmw6IHByb2Nlc3MuZW52Lk9BVVRIX1RPS0VOX1VSTCB8fCAnJyxcbiAgICB9LFxuICAgIGRhdGFiYXNlOiB7XG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NUIHx8ICdsb2NhbGhvc3QnLFxuICAgICAgcG9ydDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAnNTQzMicsIDEwKSxcbiAgICAgIG5hbWU6IHByb2Nlc3MuZW52LkRCX05BTUUgfHwgJ21jcF9zZXJ2ZXInLFxuICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncG9zdGdyZXMnLFxuICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JEIHx8ICcnLFxuICAgICAgc3NsOiBwcm9jZXNzLmVudi5EQl9TU0wgPT09ICd0cnVlJyxcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEdsb2JhbCBjb25maWd1cmF0aW9uIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjb25zdCBjb25maWc6IFNlcnZlckNvbmZpZyA9IGxvYWRDb25maWcoKTtcbiJdLCJ2ZXJzaW9uIjozfQ==