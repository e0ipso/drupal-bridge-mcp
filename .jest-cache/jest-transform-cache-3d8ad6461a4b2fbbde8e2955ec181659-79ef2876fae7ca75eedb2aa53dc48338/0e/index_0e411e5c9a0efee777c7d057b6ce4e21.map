{"file":"/workspace/src/config/index.ts","mappings":";AAAA;;;;GAIG;;;AAoCH;;GAEG;AACH,SAAS,UAAU;IACjB,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,aAAa,CAAC;IAElD,OAAO;QACL,WAAW,EAAE,GAA4C;QACzD,IAAI,EAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,MAAM,EAAE,EAAE,CAAC;QAC9C,OAAO,EAAE;YACP,KAAK,EAAG,OAAO,CAAC,GAAG,CAAC,SAAsB,IAAI,MAAM;YACpD,MAAM,EAAE,GAAG,KAAK,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ;SACjD;QACD,MAAM,EAAE;YACN,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,sBAAsB;YAC9D,eAAe,EAAE,OAAO,CAAC,GAAG,CAAC,uBAAuB,IAAI,UAAU;YAClE,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,OAAO,EAAE,EAAE,CAAC;SAC7D;QACD,KAAK,EAAE;YACL,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,EAAE;YAC3C,YAAY,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE;YACnD,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,kBAAkB,IAAI,EAAE;YACjD,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,EAAE;YACzC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,EAAE;SAC5C;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,WAAW;YACxC,IAAI,EAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,MAAM,EAAE,EAAE,CAAC;YACjD,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,YAAY;YACzC,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,UAAU;YACvC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE;YACvC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,MAAM,KAAK,MAAM;SACnC;KACF,CAAC;AACJ,CAAC;AAED;;GAEG;AACU,QAAA,MAAM,GAAiB,UAAU,EAAE,CAAC","names":[],"sources":["/workspace/src/config/index.ts"],"sourcesContent":["/**\n * Configuration management for the MCP server\n *\n * Centralizes all configuration options with type safety and validation\n */\n\nimport type { LogLevel } from '@/types/logger.js';\n\n/**\n * Server configuration interface\n */\nexport interface ServerConfig {\n  readonly environment: 'development' | 'production' | 'test';\n  readonly port: number;\n  readonly logging: {\n    readonly level: LogLevel;\n    readonly format: 'json' | 'pretty';\n  };\n  readonly drupal: {\n    readonly baseUrl: string;\n    readonly jsonRpcEndpoint: string;\n    readonly timeout: number;\n  };\n  readonly oauth: {\n    readonly clientId: string;\n    readonly clientSecret: string;\n    readonly redirectUri: string;\n    readonly authUrl: string;\n    readonly tokenUrl: string;\n  };\n  readonly database: {\n    readonly host: string;\n    readonly port: number;\n    readonly name: string;\n    readonly user: string;\n    readonly password: string;\n    readonly ssl: boolean;\n  };\n}\n\n/**\n * Load and validate configuration from environment variables\n */\nfunction loadConfig(): ServerConfig {\n  const env = process.env.NODE_ENV || 'development';\n\n  return {\n    environment: env as 'development' | 'production' | 'test',\n    port: parseInt(process.env.PORT || '3000', 10),\n    logging: {\n      level: (process.env.LOG_LEVEL as LogLevel) || 'info',\n      format: env === 'production' ? 'json' : 'pretty',\n    },\n    drupal: {\n      baseUrl: process.env.DRUPAL_BASE_URL || 'https://drupalize.me',\n      jsonRpcEndpoint: process.env.DRUPAL_JSONRPC_ENDPOINT || '/jsonrpc',\n      timeout: parseInt(process.env.DRUPAL_TIMEOUT || '10000', 10),\n    },\n    oauth: {\n      clientId: process.env.OAUTH_CLIENT_ID || '',\n      clientSecret: process.env.OAUTH_CLIENT_SECRET || '',\n      redirectUri: process.env.OAUTH_REDIRECT_URI || '',\n      authUrl: process.env.OAUTH_AUTH_URL || '',\n      tokenUrl: process.env.OAUTH_TOKEN_URL || '',\n    },\n    database: {\n      host: process.env.DB_HOST || 'localhost',\n      port: parseInt(process.env.DB_PORT || '5432', 10),\n      name: process.env.DB_NAME || 'mcp_server',\n      user: process.env.DB_USER || 'postgres',\n      password: process.env.DB_PASSWORD || '',\n      ssl: process.env.DB_SSL === 'true',\n    },\n  };\n}\n\n/**\n * Global configuration instance\n */\nexport const config: ServerConfig = loadConfig();\n"],"version":3}